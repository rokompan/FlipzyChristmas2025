{% schema %}
{
  "name": "Flipzy Badges (4-up)",
  "class": "flipzy-section",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#F6DACE",
      "info": "Matches the peach color from your design."
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Trusted by thousands of families"
    },
    {
      "type": "checkbox",
      "id": "show_checkmark",
      "label": "Show Checkmark in Heading?",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "badge",
      "name": "Badge",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "no_phone", "label": "No Phone / Screen Free" },
            { "value": "leaf", "label": "Leaf / Eco" },
            { "value": "muscle", "label": "Muscle / Durable" },
            { "value": "tools", "label": "Tools / Mount" },
            { "value": "check", "label": "Checkmark" },
            { "value": "star", "label": "Star" },
            { "value": "heart", "label": "Heart" },
            { "value": "shield", "label": "Shield" }
          ],
          "default": "check"
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Custom Icon (Optional)",
          "info": "Upload PNG/SVG to override the selector above."
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Badge Title"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "Short description goes here."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Flipzy Badges (4-up)",
      "blocks": [
        {
          "type": "badge",
          "settings": {
            "icon": "no_phone",
            "title": "100% Screen-Free",
            "text": "No apps, no charging, no distractions - just tactile fun"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "leaf",
            "title": "Eco-Friendly",
            "text": "sustainable wood from responsible sources and minimal packaging"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "muscle",
            "title": "Durable",
            "text": "built for daily child enthusiasm to last for years"
          }
        },
        {
          "type": "badge",
          "settings": {
            "icon": "tools",
            "title": "Easy to Mount",
            "text": "stick damage-free or secure with screws, your choice"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<div class="flipzy-badges-section" style="background-color: {{ section.settings.bg_color }};">
  <div class="flipzy-badges-container">
    
    {% if section.settings.heading != blank %}
      <h2 class="flipzy-badges-heading">
        {% if section.settings.show_checkmark %}
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
        {% endif %}
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    <div class="flipzy-badges-grid">
      {% for block in section.blocks %}
        <div class="flipzy-badge-card" {{ block.shopify_attributes }}>
          
          <div class="flipzy-badge-icon">
            {% if block.settings.custom_icon != blank %}
              <img src="{{ block.settings.custom_icon | image_url: width: 96 }}" alt="{{ block.settings.title }}" loading="lazy">
            {% else %}
              {% case block.settings.icon %}
                
                {% when 'no_phone' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#FF6B6B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                    <line x1="12" y1="18" x2="12.01" y2="18"></line>
                    <line x1="3" y1="3" x2="21" y2="21" stroke="red" stroke-width="2.5"></line> </svg>

                {% when 'leaf' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#4ADE80" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>

                {% when 'muscle' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#F4D35E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 7a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2h14V7z"></path>
                    <path d="M5 13v6a2 2 0 0 0 2 2h2"></path>
                    <path d="M15 21h2a2 2 0 0 0 2-2v-4.5"></path>
                    <path d="M5 9h14"></path> <circle cx="12" cy="14" r="3"></circle>
                  </svg>

                {% when 'tools' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#6B7280" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                  </svg>

                {% when 'check' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                {% when 'star' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                {% when 'heart' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                {% when 'shield' %}
                  <svg viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>

              {% endcase %}
            {% endif %}
          </div>

          <h3 class="flipzy-badge-title">{{ block.settings.title }}</h3>
          <p class="flipzy-badge-text">{{ block.settings.text }}</p>

        </div>
      {% endfor %}
    </div>

  </div>
</div>